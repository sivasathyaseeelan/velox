import { type Client } from "@connectrpc/connect";
import { PartyShares } from "@nillion/client-wasm";
import { Effect as E } from "effect";
import type { UnknownException } from "effect/Cause";
import { z } from "zod";
import { type RetrieveResultsRequest } from "#/gen-proto/nillion/compute/v1/retrieve_pb";
import { Compute } from "#/gen-proto/nillion/compute/v1/service_pb";
import { NadaValuesRecord, type PartyId, Uuid } from "#/types/types";
import type { VmClient } from "#/vm/client";
import type { Operation } from "#/vm/operation/operation";
export declare const RetrieveComputeResultConfig: z.ZodObject<{
    vm: z.ZodType<VmClient, z.ZodTypeDef, VmClient>;
    id: z.ZodString;
}, "strip", z.ZodTypeAny, {
    id: string;
    vm: VmClient;
}, {
    id: string;
    vm: VmClient;
}>;
export type RetrieveComputeResultConfig = z.infer<typeof RetrieveComputeResultConfig>;
type NodeRequestOptions = {
    nodeId: PartyId;
    client: Client<typeof Compute>;
    request: RetrieveResultsRequest;
};
export declare class RetrieveComputeResult implements Operation<NadaValuesRecord> {
    private readonly config;
    private constructor();
    invoke(): Promise<NadaValuesRecord>;
    prepareRequestPerNode(): E.Effect<NodeRequestOptions, UnknownException>[];
    invokeNodeRequest(options: NodeRequestOptions): E.Effect<PartyShares, UnknownException>;
    static new(config: RetrieveComputeResultConfig): RetrieveComputeResult;
}
export declare class RetrieveComputeResultBuilder {
    private readonly vm;
    private _id?;
    private constructor();
    id(value: Uuid): this;
    build(): RetrieveComputeResult;
    static init: (vm: VmClient) => RetrieveComputeResultBuilder;
}
export {};
